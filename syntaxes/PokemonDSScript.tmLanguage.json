{
  "scopeName": "source.pokemon_ds_script",
  "patterns": [
    { "include": "#script-header" },
    { "include": "#end" },
    { "include": "#comment" },

    { "include": "#opcode" },
    { "include": "#condition-op" },
    { "include": "#function-ref" },
    { "include": "#action-ref" },
    { "include": "#enums" },

    { "include": "#hex" },
    { "include": "#number" }
  ],
  "repository": {
    "comment": {
      "name": "comment.line.double-slash.dspre",
      "match": "//.*$"
    },
    "script-header": {
      "name": "keyword.control.dspre",
      "match": "^(\\s*)Script\\s+\\d+\\s*:"
    },
    "end": {
      "name": "keyword.control.dspre",
      "match": "^(\\s*)End\\b"
    },
    "opcode": {
      "name": "entity.name.function.dspre",
      "match": "^\\s*[A-Za-z][A-Za-z0-9_]*\\b"
    },
    "condition-op": {
      "name": "keyword.operator.comparison.dspre",
      "match": "\\b(?:GREATER/EQUAL|LESS/EQUAL|GREATER|LESS|EQUAL|DIFFERENT)\\b"
    },
    "function-ref": {
      "name": "keyword.control.dspre",
      "match": "\\bFunction#\\d+\\b"
    },
    "action-ref": {
      "name": "keyword.control.dspre",
      "match": "\\bAction#\\d+\\b"
    },

    "enums": {
      "name": "variable.other.enummember.dspre",
      "match": "\\b(?:SEQ|TRAINER|ITEM|MOVE|SPECIES)_[A-Z0-9_]+\\b"
    },

    "hex": {
      "name": "constant.numeric.hex.dspre",
      "match": "\\b0x[0-9A-Fa-f]+\\b"
    },
    "number": {
      "name": "constant.numeric.decimal.dspre",
      "match": "(?<!#)\\b\\d+\\b"
    }
  }
}
